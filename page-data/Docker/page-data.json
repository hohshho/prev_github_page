{"componentChunkName":"component---src-templates-post-tsx","path":"/Docker/","result":{"data":{"markdownRemark":{"html":"<p>여러 기업들은 자사에서 데이터센터나 기계실을 보유하여 온프레미스 환경에서 가동시키던 부분을</p>\n<p>효율적인 자원 활용을 위해 클라우드 상의 가상 인스턴스로 옮기고 시스템을 구축한다</p>\n<p>또한 확장성을 고려해 MSA(Micro Service Architecture) 아키텍처를 적용하며</p>\n<p>여러개의 나뉘어진 App을 하나의 Application 처럼 동작할 수 있게 시스템을 구축한다.</p>\n<p>이와같은 분산환경을 적용하면 아래와 같은 장점이 있다.</p>\n<ol>\n<li>개별 서비스가 다른 서비스에 영향을 주지 않으면서 작동 (높은 가용성)</li>\n<li>향후 확장 및 새로운 기능 추가 용이 (높은 확장성)</li>\n<li>개발자들이 각각의 서비스를 파악하고 개선하기에 용이해짐 (편리한 엑세스)</li>\n<li>기존 모놀로식 방법에 비해 배포에 따른 우려사항들이 적어짐</li>\n</ol>\n<p>기존 <a href=\"https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">VM (Virtual Machine)</a>으로도 MSA환경을 구축할 수 있지만</p>\n<p>컴퓨터를 가상화하는 기술이 발전하고 점점 가벼워지면서 컨테니어 기술은 더욱더 인기가 많아지고 있다.</p>\n<p>VM은 <a href=\"https://www.redhat.com/ko/topics/virtualization/what-is-a-hypervisor\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">하이퍼바이저</a>를 사용해 각 머신별로 독립적인 하드웨어 자원을 제공하고</p>\n<p>그 자원위에 별도의 OS를 띄운다.</p>\n<p>반면에 컨테이너의 경우 리눅스 OS내부에서 커널을 이용하여 리소스를 컨테이너 별로 나눠서 격리시키기</p>\n<p>때문에 별도의 OS없이 구동이 된다.</p>\n<p>그럼 효율적인 인프라 구성을 위해 컨테이너의 대표 기술인 도커에 대해 알아보자</p>\n<h1 id=\"container\" style=\"position:relative;\"><a href=\"#container\" aria-label=\"container permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Container</h1>\n<blockquote>\n<p>소프트웨어 서비스를 실행하는 데 필요한 1. 특정 버전의 프로그래밍 언어 런타임 및 2. 라이브러리와 같은 종속 항목과 3. 애플리케이션 코드를 함께 포함하는 <code class=\"language-text\">경량 패키지</code></p>\n</blockquote>\n<ul>\n<li>이미지를 기반으로 하는 격리된 소프트웨어 유닛, 이미지를 실행중인 인스턴스</li>\n<li>중요한 특징으로 컨테이너는 서로 분리되어 있으며, 디폴트로 공유 데이터나 상태가 없다.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1880890c4d14ce4cfba0cfa70b5aeb1b/4352a/VMvsDocker.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.75675675675676%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACT0lEQVQoz21S60/SYRTmb2tt9cFVW7Vqk8020iRFCBQCAe/mBcu8UWLhrbLZxbU+1JyYlYi3Lh/YkI1x3RAXd1AuP57O+04MW2d79p73d855znPO+xOB7OjoCNubDjg27NjZ3oJ9/Ss/HfZ1/Pr5A6FgAGufbdjdYbFv2CAwf23VBp/Xi7KVSiWImJNMJqBVq6BsugO9Vg2ZtBat91ogb6hHf28Xlt6+xoXzZ9FQJ0H19SsQExpuS1B17gwWX71EsSgglUpyUk6YTqfRWF+LWzViqOSNvEhJ503xDRiowYf3S7h2+SJUikZIaqp5XvNdGa5eqsK7N4soFAok6piQXaLR3+hq00OjlKPDoINOrUS7XosWhQzDpgGsrixDQWpZzEgNjDoNOg2taJLWYfnTx9Mj5/N5xGIxWMxjMN3vhnnkIabM45igc6C7Ay9mrdjZ2uT+8GAfLBNjhFE8GuxHX2cbvtMumRWLxb87zGQy6CGFWlLYTt1ZcRspUZPC0QcmrNlWoJJJYdA0o6ddj16CkXasJNVf6LH+Q5jmqqyTjzH7zIKFuRnuT46PYGF+Frv04iNDA3g+Y8WcdQrz008xbXmC0aHBE4WCUEEoCAL29/fh9flon1GwNeRyOb7s8qP5/H4cHh4iT99yFGc5+eM4IypDVP7gdrvhdDoRDAYRiUQQCoXg8Xh4ISN0uVwcgUCA54TDYfpVUlQrnCI9Icxms3yX5YRKY4+2t7cHP6lkzQ4ODjjYNGx3pwjLTqVVjsCMjcqKE4kEJ4/H4xzs/i/hHyyh2LHjm/uwAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"VMvsDocker\"\n        title=\"VMvsDocker\"\n        src=\"/static/1880890c4d14ce4cfba0cfa70b5aeb1b/fcda8/VMvsDocker.png\"\n        srcset=\"/static/1880890c4d14ce4cfba0cfa70b5aeb1b/12f09/VMvsDocker.png 148w,\n/static/1880890c4d14ce4cfba0cfa70b5aeb1b/e4a3f/VMvsDocker.png 295w,\n/static/1880890c4d14ce4cfba0cfa70b5aeb1b/fcda8/VMvsDocker.png 590w,\n/static/1880890c4d14ce4cfba0cfa70b5aeb1b/efc66/VMvsDocker.png 885w,\n/static/1880890c4d14ce4cfba0cfa70b5aeb1b/c83ae/VMvsDocker.png 1180w,\n/static/1880890c4d14ce4cfba0cfa70b5aeb1b/4352a/VMvsDocker.png 1364w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Container와 VM을 비교해보면 다음과 같은 특성이 있다.</p>\n<ul>\n<li>컨테이너는 VM보다 경량화 되어있다.</li>\n<li>컨테이너는 OS수준에서 가상화 되고, VM은 하드웨어 수준에서 가상화 된다.<br>\n-> 메모리, CPU 등 효율적인 자원 사용</li>\n<li><code class=\"language-text\">Linux커널과 Cgroups 및 네임스페이스 등 커널의 기능</code>을 사용해 프로세스를<br>\n분리함으로써 <strong>독립적으로 실행</strong>할 수 있다.</li>\n<li>컨테이너는 OS커널을 공유하며 VM에 필요한 것보다 적은 메모리 사용</li>\n<li>컨테이너는 무상태 (Volume에 할당되어 있으면 로컬 호스트 머신의 폴더로 미러링 하거나 복사 가능)</li>\n</ul>\n<p>이러한 컨테이너의 장점 때문에 Linux Container기술이 발전 했지만</p>\n<p>Linux Container 컨테이너 기술은 사용하기 어렵고 대중화하기에는 한계가 있었다.</p>\n<p>이러한 기술을 도입하기 편리하게 개발된 기술이 <strong><code class=\"language-text\">Docker</code></strong>이다.</p>\n<h1 id=\"lxc-vs-docker\" style=\"position:relative;\"><a href=\"#lxc-vs-docker\" aria-label=\"lxc vs docker permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LXC vs Docker</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ed53fa7cfb5516e1a2def4ffa45321d6/f09ab/LXCvsDocker.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 41.891891891891895%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAACG0lEQVQoz02SXUjTYRTG/3dBV3ZVdBFIXRTVYiWxPgw0sxTCrDRHRPahrK4qUZcwiEkYXgV1EZRGQYFGzawGqZtlajlDRc1KNDc3p9PhmJv7wG2/3v9rRQ88N897zvOe83AU/kMgHMa7uIjTN8/0gh+3348/uEQoGmUhGGRqzodrfkFqweVl5gIBliIRkqkUqT9UAqEwTzu7eN3XT8sXB/WWVoZ+TREWJqFIFIvQGjrsNHZ0Mjk7Jw18wuiJ/QMP22w0dffKYVZWVkgkkygjrmnW6kvZea2KvNo7KIUl0uQvbMMj6IwmtBVGaptfroqpJHffWNFcr0ZXbaLV8VXKiUQCZdjpIu3cJdmQV1uHclJPc89nWRAUE6r4ODpGjrmO7RU3Mb9qJRKPS/2+9T26mltohemLvlVTRc0k/3Y9ZQ8eUfOsiUyTme7vP1d/FCuo+ahoH5+g8l07ldYOel3ufxs0OAa48bYNs+0TMyJbpW9gkIMFhWSdKhIsJuNYPs8tLbI4JiYprzKSXVzCidKLFArqDVc5Y7jC6XIDx89foECw6HIZ2aLfarOj2Ht6WbdtB+t37WaDdg9r0rdwr/GxNIzGYhzRn2WjNoN03QFJTU6u4FE0h3PZeiiLTXv3sXl/JmnCQx1EicXizIoz+THlZHRiEq84jZA4H5m9WFd9c3lmmJ7x4vHOMu500jU4hOPbmNRUur1enG6P7PsNnafuqKvTrboAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"LXCvsDocker\"\n        title=\"LXCvsDocker\"\n        src=\"/static/ed53fa7cfb5516e1a2def4ffa45321d6/fcda8/LXCvsDocker.png\"\n        srcset=\"/static/ed53fa7cfb5516e1a2def4ffa45321d6/12f09/LXCvsDocker.png 148w,\n/static/ed53fa7cfb5516e1a2def4ffa45321d6/e4a3f/LXCvsDocker.png 295w,\n/static/ed53fa7cfb5516e1a2def4ffa45321d6/fcda8/LXCvsDocker.png 590w,\n/static/ed53fa7cfb5516e1a2def4ffa45321d6/efc66/LXCvsDocker.png 885w,\n/static/ed53fa7cfb5516e1a2def4ffa45321d6/c83ae/LXCvsDocker.png 1180w,\n/static/ed53fa7cfb5516e1a2def4ffa45321d6/f09ab/LXCvsDocker.png 1250w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Linux Container(LXC)는 단일 컨트롤 호스트 상에서 여러개의 고립된 리눅스 시스템 (컨테이너)들을 실행하기 위한 OS 레벨 가상화 기술이다.</p>\n<p>Docker는 단일 애플리케이션을 실행하는데 중점을 둔 컨테이너 기술이다.</p>\n<p>즉, 세분화된 접근 방식에 차이가 있는데</p>\n<p>LXC는 전체 애플리케이션을 하나로 실행하는 반면에</p>\n<p>Docker는 애플리케이션을 개별 프로세스로 세분화하고 이를 위한 툴을 제공한다.</p>\n<p>추가로 더 자세히 정리된 링크 남긴다.</p>\n<p><a href=\"https://www.redhat.com/ko/topics/containers/whats-a-linux-container\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Linex컨테이너란? - Red Hat</a><br>\n<a href=\"https://earthly.dev/blog/lxc-vs-docker/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Table of contents LXC vs Docker: Which Container Platform Is Right for You?</a><br>\n<a href=\"http://www.opennaru.com/openshift/container/what-is-the-difference-between-docker-lxd-and-lxc/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Docker 그리고 Linux 컨테이너 기술들</a></p>\n<h1 id=\"docker\" style=\"position:relative;\"><a href=\"#docker\" aria-label=\"docker permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Docker</h1>\n<p>그럼 이제부터 Docker에 대해 자세히 알아보자</p>\n<blockquote>\n<p>Docker Inc.에 의해 개발 된 Go 언어로 작성된 소프트웨어로 컨테이너를 생성하고 관리하기 위한 도구이다.</p>\n</blockquote>\n<p>Docker를 실행 하면 Docker Engine이라는</p>\n<p>컨테이너를 구축 및 실행하는 오픈 소스 호스트 소프트웨어가 실행되며</p>\n<p>이 위에 Libraries, Dependencies, Tools, App이 실행 된다.</p>\n<p>도커를 사용하면 아래와 같은 장점을 가진다.</p>\n<ul>\n<li>Docker Engine을 이용하기 때문에 <strong>호스트 운영체제의 영향을 받지 않음</strong></li>\n<li>설정 파일(Dockerfile)로 동일한 환경을 가지기 때문에 <strong>공유, 재구축 및 배포가 매우 쉬움</strong></li>\n<li>설정 파일을 통한 <strong>이미지 버전 관리</strong></li>\n<li>이미지가 레이어 구조를 가지기 때문에 <strong>차분 빌드가 가능</strong></li>\n<li>다양한 기능의 API (Docker API를 이용하여 관리 App 개발 가능)</li>\n<li>Docker registry를 사용해 이미지 관리(저장, 배포) 가능 (public, private)</li>\n</ul>\n<h2 id=\"images--containers\" style=\"position:relative;\"><a href=\"#images--containers\" aria-label=\"images  containers permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Images &#x26; Containers</h2>\n<p>Docker의 핵심 요소인 Image와 Container에 대해 정리해보자</p>\n<p>정의는 다음과 같다.</p>\n<h4 id=\"image\" style=\"position:relative;\"><a href=\"#image\" aria-label=\"image permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Image</h4>\n<blockquote>\n<ol>\n<li>모든 설정 명령과 2. 모든 코드가 포함된 공유 가능한 패키지</li>\n</ol>\n</blockquote>\n<p>docker의 이미지를 registry를 통해 검색할 수 있는데 default 주소는 dockerhub이다.<br>\n(docker search 명령어를 통해 검색)</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> search <span class=\"token punctuation\">{</span>검색 할 레지스트리 명<span class=\"token punctuation\">}</span> <span class=\"token parameter variable\">--filter</span><span class=\"token operator\">=</span>stars<span class=\"token operator\">=</span><span class=\"token number\">10</span>\n\n<span class=\"token comment\"># --filter=stars=n : star 수가 n개 이상인 결과만 표시</span></code></pre></div>\n<p>Image는 name : tag로 나뉘어 있는데</p>\n<p>name 부분은 image의 이름을 나타내고</p>\n<p>tag는 이미지의 버전을 기록한다.</p>\n<h4 id=\"container-1\" style=\"position:relative;\"><a href=\"#container-1\" aria-label=\"container 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Container</h4>\n<blockquote>\n<p>이미지의 구체적인 실행 인스턴스</p>\n</blockquote>\n<p>Container에서 구동시킬 Image는 Container Repository에서 docker pull로 다운로드 되거나</p>\n<p>DockerFile을 참조해 <em>docker build</em> 명령어로 커스텀 이미지를 생성한다.</p>\n<p>DockerFile엔 자체 이미지를 빌드할 때 실행하려는 도커에 대한 명령이 포함한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"dockerfile\"><pre class=\"language-dockerfile\"><code class=\"language-dockerfile\"><span class=\"token instruction\"><span class=\"token keyword\">FROM</span> {image name} # 이름 지정</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">WORKDIR</span> # 명령어를 수행 할 디렉토리 지정</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">COPY</span> {이미지의 외부 경로} {이미지 내부 경로} # 어떤 파일이 이미지에 들어가는지 설정 (절대 경로가 좋다)</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">EXPOSE</span> # 로컬 시스템에 노출 시킬 포트 설정</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> # 실행 할 명령어</span></code></pre></div>\n<p>DockerFile에서 RUN, CMD 2가지 명령어가 비슷한 역할을 해 헷갈릴 수 있는데</p>\n<p>RUN 명령어는 <strong>이미지 생성 시 실행</strong> 하고</p>\n<p>CMD 명령어는 <strong>이미지 기반으로 컨테이너 시작 시 실행</strong>한다.</p>\n<p>작성한 DOCKERFILE을 build 수행 하였다면 run명령어를 통해 Container를 실행 가능하다.</p>\n<p>Docker는 모든 명령어를 기반으로 하는 이미지 레이어 생성 -> 모든 명령 결과를 캐시</p>\n<p>다시 빌드할 때 변경사항이 없으면 캐시 된 내용을 사용해 실행한다.<br>\n-> <strong><code class=\"language-text\">레이어 기반 아키텍처</code></strong> 라 한다.</p>\n<hr>\n<p>그럼 레이어 기반 아키텍처를 자세히 이해하기 전에 UFS에 대해 잠깐 알아보고 가자</p>\n<h4 id=\"union-file-system\" style=\"position:relative;\"><a href=\"#union-file-system\" aria-label=\"union file system permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Union File System</h4>\n<p>Docker의 이미지는 Union File System기반으로 동작하는</p>\n<p><strong><code class=\"language-text\">Storage Driver</code></strong>에 의해 파일 시스템으로 복수의 <em>Layer</em>가 구현된다.<br>\n(Storage Driver가 파일 I/O 수행)</p>\n<p>UFS란, 여러 개의 파일 시스템을 하나의 파일 시스템에 마운트 하는 기능이다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/00a327d9af70e21f4f36ad3f67700cb3/28e7f/OverlayDriver.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAABHklEQVQY0yWPa07CQBSFu/8lGOKLiCgoMW7BmLgBQqktQ9tpZ/qg0FJ5RP2cGX/cmZvv5pyc4+V5Tpqm+L5PGIasVgKpa0SaUW9bpCrd1NsOkWQUVUNRN8Qyp2l7IhE7bZaZW1HgBUGAUgqttQP2r5qWvNrR7nu0MUj1hs7sljXtntrcLdt1PUr/a6xhkiR4NpUFLl0UIdZrmv2R4w+kmeJuPGE4ejA84fQL3deJ55dXBle3vL1/IHOFDWXNbFNvuVxSliW2uoVSStZZQZQWxMYwWMVuYqkIU+1uqtyQlzXFZkdmDK2R1Qkh8OxTVRVxHDOfzwlNytFkxsXlDfePU5Nu7BI+TmcMroeGPdH2Rw7nb7rDmc9I4C8WTm9r/wG4WWkc5g03TgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"OverlayDriver\"\n        title=\"OverlayDriver\"\n        src=\"/static/00a327d9af70e21f4f36ad3f67700cb3/fcda8/OverlayDriver.png\"\n        srcset=\"/static/00a327d9af70e21f4f36ad3f67700cb3/12f09/OverlayDriver.png 148w,\n/static/00a327d9af70e21f4f36ad3f67700cb3/e4a3f/OverlayDriver.png 295w,\n/static/00a327d9af70e21f4f36ad3f67700cb3/fcda8/OverlayDriver.png 590w,\n/static/00a327d9af70e21f4f36ad3f67700cb3/efc66/OverlayDriver.png 885w,\n/static/00a327d9af70e21f4f36ad3f67700cb3/c83ae/OverlayDriver.png 1180w,\n/static/00a327d9af70e21f4f36ad3f67700cb3/28e7f/OverlayDriver.png 1848w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>각 layer 간의 파일들을 취합해서 하나의 파일시스템으로 만들고 중복되는 파일의 경우, “상위” layer 가 “하위” layer 의 있는 파일을 대체하는 방식이다</p>\n<p>UFS 를 통해, Dockerfile 명령어를 실행한 결과 파일 시스템을 하나의 docker layer 로 만들고, 이 layer 들을 겹겹이 쌓아서 merge 된 최종 결과물이 docker 이미지가 된다.</p>\n<hr>\n<p>즉, Docker는 UFS의 CoW(Copy on Write)전략을 활용해 레이어의 역할을 나눠</p>\n<p>동일한 파일 시스템을 공유하며 독립적으로 실행한다</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/fe11c17f2fa1b502f2a5b0fbf7f91efe/de766/DockerLayer.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 69.5945945945946%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAACvElEQVQ4y3VTWU8TURSeH+f25JtGUIQYH9hcURJFjSgkLghVKlCwFtpCKYVIQA2Y0LDKg0GgiiWBlu7btNQuM22ntJ/nXsAErDf55pw798yZ7zvnHsETFBGIxOAPRxEUd+HyBfDdtoHVHxtYWf+JHW+Av/dH6JzivCERobAIMRKB0+mEw+HgNhQKQZZlCCgC+T38XYpSRD6bxe+EjJycQV4poFg8OMvTg/xcTsFePg9JkgkSh6IoPEaYW7PBaF3A2MIyRuaXYJ5bwujiMszzX7kdpr1pdpGfGa3zsK6uQ0qnkMlkcHwV6c9Cs2kMZ5+pUPGmF2Ud3dw/8fg5Tj15gZPNBLLMP/30Jc60tOHh0CgpyCCZSvEExyEYZubQoBtC06AF940jaCI8IJ/tD+2hz+K0X6xUCgmpdJqp/zdhx/gnXCZ2N98P4to7AyrJP9fWifOv1PtoU+NC+1vU9Q6gsrMXrZYJquse0mkJpZZgsBLD/iE8Mo1yFozlPYP5KIxmkmrBXf0INJMfsLs1zSVnqXmsIayeKdqnibWg/jiFKnUfrhM7xvBqlxYXVd24dADmV7zuQX2fHle6dGgZNCDunEU8HocYjcLr9fArEwwGEYvFIGinZ1Ct6ecsb5HsG1oDl1fXN7BvCfXk36b6VffooJqc5lcrLf1HMktYQx816odxp99ELPWo0ehQSz+ppfc1ZNm7xoFhzlI18RlZaV8ea0KhUDjalM7JKboyGv4xY1VFhS8nmeV0hVgzytq7SLKGJ2bNa7WMU5dl3mWU6rKPtO/4AwQ/t1tuD76trWNt4xdWbDZsudxwByjG54eTYnyhMBKJBG9GyYSKkqNrQKPERofoM0TFCNwuF8KhIB8xNnvMsjgll6PRy3GpJRMeFlMiGZubm/ATi+1tB+zks8F3ezyw2+1IJpMlR+04/gANM7LH4F8m+wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"DockerLayer\"\n        title=\"DockerLayer\"\n        src=\"/static/fe11c17f2fa1b502f2a5b0fbf7f91efe/fcda8/DockerLayer.png\"\n        srcset=\"/static/fe11c17f2fa1b502f2a5b0fbf7f91efe/12f09/DockerLayer.png 148w,\n/static/fe11c17f2fa1b502f2a5b0fbf7f91efe/e4a3f/DockerLayer.png 295w,\n/static/fe11c17f2fa1b502f2a5b0fbf7f91efe/fcda8/DockerLayer.png 590w,\n/static/fe11c17f2fa1b502f2a5b0fbf7f91efe/efc66/DockerLayer.png 885w,\n/static/fe11c17f2fa1b502f2a5b0fbf7f91efe/c83ae/DockerLayer.png 1180w,\n/static/fe11c17f2fa1b502f2a5b0fbf7f91efe/de766/DockerLayer.png 1838w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>도커의 컨테이너 레이어 구조는 <strong>컨테이너 레이어</strong>와 <strong>이미지 레이어</strong>로 분류한다.</p>\n<p>각각의 특징을 살펴보면 아래와 같다.</p>\n<p>컨테이너 레이어</p>\n<ul>\n<li>쓰기 가능한 레이어</li>\n<li>컨테이너가 생성된 후 변경작업은 이 레이어에서 이루어 진다.</li>\n<li>각 컨테이너마다 최상단 레이어에 생성되어 컨테이너마다 고유한 상태를 가진다.</li>\n</ul>\n<p>이미지 레이어</p>\n<ul>\n<li>읽기 전용 레이어</li>\n<li>다른 컨테이너와 공유</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7e7612c4ccf71fd10dd864028818017d/80cfc/DockerImageLayer.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 61.48648648648649%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACRUlEQVQoz4WSy08TURTGZ+3av8Ct/wwbXLjQmKhQEKSCbAhL/wAlkQJ90PJqoi5KJEETxUesIKKEoKmtFVuYlk6LDQX7SGfm55nblpcmnuTMuXPvPd/9vu9eDYmhSIL2+R2GPx/y24bw+zRt4R90L5eIH8Jmusil6RjXXu8RSdedFizbVtWztEXbo58MfDwgvm+jlctlLg4vod3b4MLjX+gV6PEtow2ucC60y+IuRKIJtN5XaKNbDK7VBMamblqCWqf9wTu0oTXOzxq8yAqgWTeJfkkRXk6ymTKwTJNYKkc4GufttyzVapXdvX2eRGMsburkiyUsy1Jp2xbriR3mZO+HZE721tA4CpPK4YGabIRIqteOl+06Z8M5rF6rql5nvy02aM7HsmzMhiXsl0psZbKkjQJJPYNeKJDOGTLOsp0vsCO5beRJpLcpFItNPxueOrYqQDUpEpxwml1jAW55Q7jGJ7ky4lF5dWSsWRt5+f4oCyurzd4GO8VQqXFYNoF1YTAQnOVuKEz/5KwCPpu3/dN0e4M8+7RxRKbZfuzhScA+aegPztEXmKFD2J5OP90TQbq8M8y/jEDFcNympfQvwIx45g5M4xZ2bgHs/BegsHN5p5h/81wuTm79JGBL+zHgHm5h6LDr9U3ROR5Q6fipxgLa4wsp4IXV9f9LzojkOwFHcoPhTY+PG6Nerj+coMPjl3+/HBSiS2Q/bV1Kk9Qphq2JcqWCnsuhGwZZAU+mUnyNx4klvquakVeQlWejS82LmlZfq/4BWI441vJs2iAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"DockerImageLayer\"\n        title=\"DockerImageLayer\"\n        src=\"/static/7e7612c4ccf71fd10dd864028818017d/fcda8/DockerImageLayer.png\"\n        srcset=\"/static/7e7612c4ccf71fd10dd864028818017d/12f09/DockerImageLayer.png 148w,\n/static/7e7612c4ccf71fd10dd864028818017d/e4a3f/DockerImageLayer.png 295w,\n/static/7e7612c4ccf71fd10dd864028818017d/fcda8/DockerImageLayer.png 590w,\n/static/7e7612c4ccf71fd10dd864028818017d/efc66/DockerImageLayer.png 885w,\n/static/7e7612c4ccf71fd10dd864028818017d/c83ae/DockerImageLayer.png 1180w,\n/static/7e7612c4ccf71fd10dd864028818017d/80cfc/DockerImageLayer.png 1844w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>다시 Docker의 레이어 동작방식을 정리해보면</p>\n<p>하위 레이어(base layer) 위에 새로운 Layer가 쌓일 경우, 하위 layer는 READ ONLY 상태로 변경되고</p>\n<p>상위 layer에서 하위 layer를 복사하여 사용(CoW)하기 때문에, 상위 layer는 하위 layer에 아무런 영향을 주지 않는다.</p>\n<p>즉, 이미지 레이어를 통해 동일한 이미지가 생성되고</p>\n<p>컨테이너 레이어를 통해 이미지에 대한 생성을 공유 하면서도 고유한 데이터 상태를 가질 수 있다.</p>\n<hr>\n<p>Docker에서 특정 iamge를 이용해 container를 기동하는 것은</p>\n<p><strong>모든 Layer를 결합하여 사용자에게 하나의 File system으로 제공하는 것이다</strong></p>\n<p>추가로</p>\n<p>도커에서 관리되는 모든 레이어와 관련된 정보는 호스트 파일 시스템의 <em>/var/lib/docker</em> 폴더에 저장되며</p>\n<p>이 영역을 Docker Area 또는 Backing Filesystem이라 부른다.</p>\n<p>이러한 레이어 기반 아키텍처 덕분에 크게 2가지 이점이 생긴다.</p>\n<hr>\n<p>첫번째는 빌드 시간 단축이다.</p>\n<p>Dockerfile에 정의된 명령어 중</p>\n<p>RUN, ADD, COPY 3단계가 레이어로 저장이 된다.<br>\n(CMD, LABEL, ENV, EXPOSE 등 메타 정보를 다루는 부분은 임시 레이어로 생성되지만 저장되지 않는다.)</p>\n<p>레이어 기반 아키텍처를 이해하면 다음과 같은 최적화가 가능하다.</p>\n<div class=\"gatsby-highlight\" data-language=\"dockerfile\"><pre class=\"language-dockerfile\"><code class=\"language-dockerfile\"><span class=\"token comment\"># node가 설치된 docker 이미지를 가져온다.</span>\n<span class=\"token instruction\"><span class=\"token keyword\">From</span> node</span>\n\n<span class=\"token comment\"># /app 폴더 내부에서 실행될 것임을 설정</span>\n<span class=\"token instruction\"><span class=\"token keyword\">WORKDIR</span> /app</span>\n\n<span class=\"token comment\"># 현재 Dockerfile 경로에 있는 파일들 전부를 도커 이미지 내부 /app 경로에 복사</span>\n<span class=\"token instruction\"><span class=\"token keyword\">COPY</span> . /app</span>\n\n<span class=\"token comment\"># package.json 파일을 설치</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> npm install</span>\n\n<span class=\"token comment\"># 만약 node 앱에 80포트로 서버를 열어놨다면 container의 외부 포트를 설정</span>\n<span class=\"token instruction\"><span class=\"token keyword\">EXPOSE</span> 80</span>\n\n<span class=\"token comment\"># 마지막 server.js 파일을 실행</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> node server.js</span>\n\n<span class=\"token comment\"># CMD의 경우 이미지 기반으로 컨테이너가 실행 될 때 실행</span>\n<span class=\"token comment\"># CMD [\"node\", \"server.js\"]</span></code></pre></div>\n<p>위의 설정파일의 경우엔 소스를 수정해 파일을 하나라도 변경 할 경우</p>\n<p>npm install이 실행되어 종속된 파일을 전부 다시 받게되는데</p>\n<div class=\"gatsby-highlight\" data-language=\"dockerfile\"><pre class=\"language-dockerfile\"><code class=\"language-dockerfile\"><span class=\"token comment\"># node가 설치된 docker 이미지를 가져온다.</span>\n<span class=\"token instruction\"><span class=\"token keyword\">From</span> node</span>\n\n<span class=\"token comment\"># /app 폴더 내부에서 실행될 것임을 설정</span>\n<span class=\"token instruction\"><span class=\"token keyword\">WORKDIR</span> /app</span>\n\n<span class=\"token comment\"># 현재 package.json 파일만 /app 경로에 복사</span>\n<span class=\"token instruction\"><span class=\"token keyword\">COPY</span> package.json /app</span>\n\n<span class=\"token comment\"># package.json 파일을 설치</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> npm install</span>\n\n<span class=\"token comment\"># 현재 Dockerfile 경로에 있는 파일들 전부를 도커 이미지 내부 /app 경로에 복사</span>\n<span class=\"token instruction\"><span class=\"token keyword\">COPY</span> . /app</span>\n\n<span class=\"token comment\"># 만약 node 앱에 80포트로 서버를 열어놨다면 container의 외부 포트를 설정</span>\n<span class=\"token instruction\"><span class=\"token keyword\">EXPOSE</span> 80</span>\n\n<span class=\"token comment\"># 마지막 server.js 파일을 실행</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> node server.js</span></code></pre></div>\n<p>package.json을 app경로에 복사 한 후 나머지 실행파일을 /app경로로 복사한다면</p>\n<p>package.json파일이 바뀌지 않아서 package를 다시 받지 않고 실행된다.</p>\n<p><strong>즉, 이미지를 빌드할 때 필요한 부분만 다시 실행하여 이미지 생성 속도를 높일 수 있다</strong><br>\n(빌드 시간 단축)</p>\n<hr>\n<p>두번째는 이러한 레이어 기반 아키텍처 덕분에 롤백 기능을 활용할 수 있고</p>\n<p>Layer를 활용해 <strong><code class=\"language-text\">지속적 통합 및 배포(CI/CD)</code></strong>를 수행하는 데 도움을 준다.</p>\n<hr>\n<p>추가로 base가 되는 image layer(read-only layer)에 있는 내용을 변경하고 싶을 땐</p>\n<p>해당 data 를 Writable layer 로 먼저 Copy 한 후 이를 변경하는 기법을 사용해야 한다.</p>\n<p>CoW기법은 동작 구조 상 다음과 같은 단점을 가질 수 있다는 부분을 알고있어야 한다.</p>\n<ul>\n<li>data 를 먼저 복제(Copy)한 후 변경을 수행해야 하므로 성능 하락(Performance Overhead)이 존재한다.</li>\n<li>하위 layer 에 있는 원본 data와 상위 layer 에 변경된 data 도 유지해야 하므로 disk space를 많이 사용할 수 있다.</li>\n</ul>\n<h2 id=\"docker-command\" style=\"position:relative;\"><a href=\"#docker-command\" aria-label=\"docker command permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Docker Command</h2>\n<p>Docker의 동작방식을 살펴봤으니 다시 돌아와 사용하기 위한 명령어를 살펴보자</p>\n<p>리눅스에서 도커 엔진을 제어하기 위한 명령어는 아래와 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Docker 데몬 상태 확인</span>\n$ <span class=\"token function\">sudo</span> systemctl status <span class=\"token function\">docker</span>\n\n<span class=\"token comment\"># Docker demon 시작/중지</span>\n$ <span class=\"token function\">sudo</span> systemctl start/stop <span class=\"token function\">docker</span>\n\n<span class=\"token comment\"># Docker 데몬 사용/미사용 설정</span>\n$ <span class=\"token function\">sudo</span> systemctl enabloe/disable <span class=\"token function\">docker</span></code></pre></div>\n<p>Docker 명령어의 기본적인 형태는 아래와 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> <span class=\"token punctuation\">[</span>command<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">(</span>option<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">[</span>target<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">(</span>arguments<span class=\"token punctuation\">)</span></code></pre></div>\n<p>start vs run -> attached 모드 vs Detached 모드</p>\n<h4 id=\"1-build\" style=\"position:relative;\"><a href=\"#1-build\" aria-label=\"1 build permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. build</h4>\n<blockquote>\n<p>Dockerfile로 부터 image 생성</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> build <span class=\"token punctuation\">[</span>options<span class=\"token punctuation\">]</span> <span class=\"token builtin class-name\">.</span> <span class=\"token parameter variable\">-t</span> <span class=\"token string\">\"app/container_name\"</span>    <span class=\"token comment\"># name</span></code></pre></div>\n<h4 id=\"2-run\" style=\"position:relative;\"><a href=\"#2-run\" aria-label=\"2 run permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. run</h4>\n<blockquote>\n<p>image를 기반으로 컨테이너를 만들어 실행 (생성, 실행)</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> run <span class=\"token punctuation\">{</span>options<span class=\"token punctuation\">}</span> <span class=\"token punctuation\">{</span>이미지 명<span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\"># -a, --attach               # attach stdout/err</span>\n  <span class=\"token comment\"># -i, --interactive          # attach stdin (interactive)</span>\n  <span class=\"token comment\"># -t, --tty                  # pseudo-tty</span>\n  <span class=\"token comment\">#     --name NAME            # name your image</span>\n  <span class=\"token comment\"># -p, --publish 5000:5000    # port map</span>\n  <span class=\"token comment\">#     --expose 5432          # expose a port to linked containers</span>\n  <span class=\"token comment\"># -P, --publish-all          # publish all ports</span>\n  <span class=\"token comment\">#     --link container:alias # linking</span>\n  <span class=\"token comment\"># -v, --volume `pwd`:/app    # mount (absolute paths needed)</span>\n  <span class=\"token comment\"># -e, --env NAME=hello       # env vars</span></code></pre></div>\n<h4 id=\"3-start\" style=\"position:relative;\"><a href=\"#3-start\" aria-label=\"3 start permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. start</h4>\n<blockquote>\n<p>컨테이너 실행</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> start <span class=\"token punctuation\">[</span>options<span class=\"token punctuation\">]</span> CONTAINER\n  <span class=\"token comment\"># -a, --attach        # attach stdout/err</span>\n  <span class=\"token comment\"># -i, --interactive   # attach stdin</span></code></pre></div>\n<h4 id=\"4-create\" style=\"position:relative;\"><a href=\"#4-create\" aria-label=\"4 create permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. create</h4>\n<blockquote>\n<p>컨테이너 생성</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> create <span class=\"token punctuation\">[</span>options<span class=\"token punctuation\">]</span> IMAGE\n\n<span class=\"token comment\"># ex</span>\n$ <span class=\"token function\">docker</span> create <span class=\"token parameter variable\">--name</span> app_redis_1 <span class=\"token punctuation\">\\</span>\n  <span class=\"token parameter variable\">--expose</span> <span class=\"token number\">6379</span> <span class=\"token punctuation\">\\</span>\n  redis:3.0.2\n\n<span class=\"token comment\"># -d : detached mode (백그라운드 모드)</span>\n<span class=\"token comment\"># -p : 포트 연결</span>\n<span class=\"token comment\"># -v : volume 설정</span>\n<span class=\"token comment\"># -e : 컨테이너 내에서 사용할 환경변수 설정</span>\n<span class=\"token comment\"># --name : 컨테이너 이름 설정</span>\n<span class=\"token comment\"># --it : 터미널 입력 옵션 (컨테이너의 표준 입력과 로컬 컴퓨터 입력 연결)</span>\n<span class=\"token comment\"># --rm : 프로세스 종료 시 컨테이너 자동 제거</span>\n<span class=\"token comment\"># --restart : docker desktop 실행 시 container 자동 실행 여부 (default : no)</span></code></pre></div>\n<h4 id=\"5-attach\" style=\"position:relative;\"><a href=\"#5-attach\" aria-label=\"5 attach permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. attach</h4>\n<blockquote>\n<p>이미 실행 중인 컨테이너에 연결</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> attach <span class=\"token punctuation\">{</span>이미지<span class=\"token punctuation\">}</span>:<span class=\"token punctuation\">{</span>태그<span class=\"token punctuation\">}</span></code></pre></div>\n<h4 id=\"6-ps--kill\" style=\"position:relative;\"><a href=\"#6-ps--kill\" aria-label=\"6 ps  kill permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6. ps / kill</h4>\n<blockquote>\n<p>실행중인 모든 container 노출</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> <span class=\"token function\">ps</span> <span class=\"token parameter variable\">-a</span>\n$ <span class=\"token function\">docker</span> <span class=\"token function\">kill</span> <span class=\"token variable\">$ID</span>\n\n<span class=\"token comment\"># -a : 현재 존재하는 모든 컨테이너의 목록 출력</span></code></pre></div>\n<h4 id=\"7-cp\" style=\"position:relative;\"><a href=\"#7-cp\" aria-label=\"7 cp permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>7. cp</h4>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> <span class=\"token function\">cp</span></code></pre></div>\n<blockquote>\n<p>복사 명령어, 도커 내부의 로그 파일을 꺼내올 때 유용</p>\n</blockquote>\n<h4 id=\"8-stop\" style=\"position:relative;\"><a href=\"#8-stop\" aria-label=\"8 stop permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>8. stop</h4>\n<blockquote>\n<p>컨테이너 종료</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> stop <span class=\"token punctuation\">{</span>Container ID<span class=\"token punctuation\">}</span></code></pre></div>\n<h4 id=\"9-rm\" style=\"position:relative;\"><a href=\"#9-rm\" aria-label=\"9 rm permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>9. rm</h4>\n<blockquote>\n<p>도커 컨테이너 삭제</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> <span class=\"token function\">rm</span> <span class=\"token punctuation\">{</span>컨테이너 명<span class=\"token punctuation\">}</span></code></pre></div>\n<h4 id=\"10-rmi\" style=\"position:relative;\"><a href=\"#10-rmi\" aria-label=\"10 rmi permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>10. rmi</h4>\n<blockquote>\n<p>도커 이미지 삭제</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> rmi <span class=\"token punctuation\">{</span>이미지 명<span class=\"token punctuation\">}</span>\n<span class=\"token comment\"># -f : 컨테이너도 강제 삭제</span></code></pre></div>\n<h4 id=\"10-push--pull\" style=\"position:relative;\"><a href=\"#10-push--pull\" aria-label=\"10 push  pull permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>10. push / pull</h4>\n<blockquote>\n<p>레지스트리에 push / pull</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> pull <span class=\"token punctuation\">{</span>이미지 이름<span class=\"token punctuation\">}</span>:<span class=\"token punctuation\">{</span>태그<span class=\"token punctuation\">}</span>\n$ <span class=\"token function\">docker</span></code></pre></div>\n<h4 id=\"11-rename\" style=\"position:relative;\"><a href=\"#11-rename\" aria-label=\"11 rename permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>11. rename</h4>\n<blockquote>\n<p>컨테이너 이름 변경</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> <span class=\"token function\">rename</span> <span class=\"token punctuation\">{</span>기존 이름<span class=\"token punctuation\">}</span> <span class=\"token punctuation\">{</span>변경하고자 하는 이름<span class=\"token punctuation\">}</span></code></pre></div>\n<h4 id=\"12-log\" style=\"position:relative;\"><a href=\"#12-log\" aria-label=\"12 log permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>12. log</h4>\n<blockquote>\n<p>컨테이너 로그 조회</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> container logs <span class=\"token parameter variable\">-t</span> <span class=\"token punctuation\">{</span>컨테이너 식별자<span class=\"token punctuation\">}</span></code></pre></div>\n<h4 id=\"13-prune\" style=\"position:relative;\"><a href=\"#13-prune\" aria-label=\"13 prune permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>13. prune</h4>\n<blockquote>\n<p>사용하지 않는 Docker 오브젝트 삭제</p>\n</blockquote>\n<p><a href=\"https://docs.docker.com/config/pruning/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Prune unused Docker objects</a></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> container prune <span class=\"token comment\"># 사용하지 않는 컨테이너 삭제</span>\n$ <span class=\"token function\">docker</span> image prune <span class=\"token comment\"># 사용하지 않는 이미지 삭제</span>\n$ <span class=\"token function\">docker</span> volume prune <span class=\"token comment\"># 컨테이너와 연결되어 있지 않은 모든 볼륨 삭제</span>\n$ <span class=\"token function\">docker</span> system prune <span class=\"token comment\"># 컨테이너, 이미지, 볼륨, 네트워크 전부 삭제</span></code></pre></div>\n<h4 id=\"14-image--container\" style=\"position:relative;\"><a href=\"#14-image--container\" aria-label=\"14 image  container permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>14. image / container</h4>\n<p>image 관련</p>\n<table>\n<thead>\n<tr>\n<th>command</th>\n<th>descriptioin</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>docker image build</td>\n<td>Dockerfile에서 이미지 빌드</td>\n</tr>\n<tr>\n<td>docker image history</td>\n<td>이미지의 history 표시</td>\n</tr>\n<tr>\n<td>docker image ls</td>\n<td>이미지 나열</td>\n</tr>\n<tr>\n<td>docker image prune</td>\n<td>사용하지 않는 이미지 제거</td>\n</tr>\n<tr>\n<td>docker image pull</td>\n<td>레지스트리에서 이미지 또는 저장소 가져오기</td>\n</tr>\n<tr>\n<td>docker image push</td>\n<td>이미지 또는 저장소를 레지스트리에 푸시</td>\n</tr>\n<tr>\n<td>docker image rm</td>\n<td>하나 이상의 이미지 제거</td>\n</tr>\n<tr>\n<td>docker image tag</td>\n<td>SOURCE<em>IMAGE를 참조하는 TARGET</em>IMAGE 태그 생성</td>\n</tr>\n</tbody>\n</table>\n<p>command 관련</p>\n<table>\n<thead>\n<tr>\n<th>Command</th>\n<th>description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>docker container attach</td>\n<td>실행 중인 컨테이너에 로컬 표준 입력, 출력 및 오류 스트림 연결</td>\n</tr>\n<tr>\n<td>docker container commit</td>\n<td>컨테이너의 변경 사항에서 새 이미지 만들기</td>\n</tr>\n<tr>\n<td>docker container cp</td>\n<td>컨테이너와 로컬 파일 시스템 간에 파일/폴더 복사</td>\n</tr>\n<tr>\n<td>docker container create</td>\n<td>새 컨테이너 만들기</td>\n</tr>\n<tr>\n<td>docker container exec</td>\n<td>실행 중인 컨테이너에서 명령 실행</td>\n</tr>\n<tr>\n<td>docker container inspect</td>\n<td>하나 이상의 컨테이너에 대한 자세한 정보 표시</td>\n</tr>\n<tr>\n<td>docker container kill</td>\n<td>하나 이상의 실행 중인 컨테이너 종료</td>\n</tr>\n<tr>\n<td>docker container logs</td>\n<td>컨테이너의 로그 가져오기</td>\n</tr>\n<tr>\n<td>docker container ls</td>\n<td>컨테이너 나열</td>\n</tr>\n<tr>\n<td>docker container pause</td>\n<td>하나 이상의 컨테이너 내 모든 프로세스 일시 중지</td>\n</tr>\n<tr>\n<td>docker container port</td>\n<td>컨테이너에 대한 포트 매핑 또는 특정 매핑 나열</td>\n</tr>\n<tr>\n<td>docker container prune</td>\n<td>중지된 모든 컨테이너 제거</td>\n</tr>\n<tr>\n<td>docker container rename</td>\n<td>컨테이너 이름 바꾸기</td>\n</tr>\n<tr>\n<td>docker container restart</td>\n<td>하나 이상의 컨테이너 다시 시작</td>\n</tr>\n<tr>\n<td>docker container rm</td>\n<td>하나 이상의 컨테이너 제거</td>\n</tr>\n<tr>\n<td>docker container run</td>\n<td>새 컨테이너에서 명령 실행</td>\n</tr>\n<tr>\n<td>docker container start</td>\n<td>하나 이상의 중지된 컨테이너 시작</td>\n</tr>\n<tr>\n<td>docker container stop</td>\n<td>하나 이상의 실행 중인 컨테이너 중지</td>\n</tr>\n<tr>\n<td>docker container top</td>\n<td>컨테이너의 실행 중인 프로세스 표시</td>\n</tr>\n<tr>\n<td>docker container unpause</td>\n<td>하나 이상의 컨테이너 내의 모든 프로세스 일시 중지 해제</td>\n</tr>\n</tbody>\n</table>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0aee8084d067f0df813df7aecc23f6e7/b54cd/dockerCheet.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.21621621621621%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB+UlEQVQ4y1WTx47qQBBF/f9LNAQBO74AhBA5SSSJHQJW5JxMzqEep5hGbyyVbN/qOrer3LZcLreEw2FJJpMSiUQkGo1JLBaTeDyuGhGNRjXS6bSkUmkpFApSKpX+RLFYlHK5LBaQTCajhdzz+bxks1lJJBLv4pTquVxONfPOM1DWYkIeKHmr1WrJeDyWxWIhu91OTqeTbLdb6ff7qi2XS9UJtMFgIKPRWI7Ho+Y7nY7qtm0LLIsXAJvNRhc9n095PB5fg+v1Klxo8/lc9fV6La/XS82n06nWkh8Oh2J1u12lk7DttUIPh8N7F6NfzVYg4Nls9oZ+jLj2+/0bMlIT8r/Anhbher/f/xSvVisNdn273b4jwNAAMWbnl8tFW9eW2TJQts1FMUAAAGkPzbQMFM0AJ5OJmvR6PYADbWGxWCr4fD5r8WQyVQBGFN/vt++umTnmzBCNNXQH/PtRcCZIMkdcATJHo39mONfAnJkFg0E9x5zTUCj0AQKgDdxZyPYNkCOFMzDgxoR22+22/Pz8iNvtFpfLpWFB5mB+/oKUBgecxZiYljgB5sgQXOQ8Ho/4/X4Nn88nFoLT6VS6cULjkDIKQHxB5lir1aRarWo0Gg391VgLyIRlyP+7cK9UKtJsNqVer+vXo+1AICAOh0NNaZU7671erwbP/wBUx5gXycrHIAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"dockerCheet\"\n        title=\"dockerCheet\"\n        src=\"/static/0aee8084d067f0df813df7aecc23f6e7/fcda8/dockerCheet.png\"\n        srcset=\"/static/0aee8084d067f0df813df7aecc23f6e7/12f09/dockerCheet.png 148w,\n/static/0aee8084d067f0df813df7aecc23f6e7/e4a3f/dockerCheet.png 295w,\n/static/0aee8084d067f0df813df7aecc23f6e7/fcda8/dockerCheet.png 590w,\n/static/0aee8084d067f0df813df7aecc23f6e7/efc66/dockerCheet.png 885w,\n/static/0aee8084d067f0df813df7aecc23f6e7/c83ae/dockerCheet.png 1180w,\n/static/0aee8084d067f0df813df7aecc23f6e7/b54cd/dockerCheet.png 1662w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<hr>\n<p>여태까지 살펴본 기본 커맨드를 통해 Docker를 사용할 수 있다.</p>\n<p>Docker 내에서 외부 데이터를 사용하고, 저장하기 위해선 2가지 개념에 대해 알아야 한다.</p>\n<p>Container내 데이터를 호스트 컴퓨터로 꺼내오기 위해 <strong><code class=\"language-text\">Volumes</code></strong> 와</p>\n<p>Container내에서 호스트 컴퓨터의 자원을 활용하기 위한 <strong><code class=\"language-text\">Bind Mount</code></strong>다.</p>\n<h2 id=\"volumes\" style=\"position:relative;\"><a href=\"#volumes\" aria-label=\"volumes permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Volumes</h2>\n<p>Volume은 호스트 컴퓨터 내 폴더로 컨테이너와 매핑해 데이터를 <strong>영구적으로 사용</strong>하는 방법이다.<br>\n(컨테이너가 종료된 후에도 볼륨이 유지된다.)</p>\n<p>Volume은 <strong>Named Volume, Anonymous Volume</strong> 두가지 방법으로 지정 가능 하다.</p>\n<h3 id=\"named-volume\" style=\"position:relative;\"><a href=\"#named-volume\" aria-label=\"named volume permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Named Volume</h3>\n<p>Volume에 이름을 지정해 사용하는 방법은 DockerFile에 명시하거나 명령어를 통해 지정해주는 방식이 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"dockerfile\"><pre class=\"language-dockerfile\"><code class=\"language-dockerfile\"><span class=\"token comment\"># DockerFile 내부</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">VOLUME</span> [ <span class=\"token string\">\"/app/log\"</span> ]</span></code></pre></div>\n<p>명령어를 통해 Volume을 생성하고 확인하기 위해선 아래 명령어들을 사용한다</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> volume create app_vol\n$ <span class=\"token function\">docker</span> volume <span class=\"token function\">ls</span></code></pre></div>\n<p>상세한 Volume 정보를 확인하기 위해선 아래 명령어를 사용한다</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> volume inspect app_log</code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/83c6b7a34520bbb3a8ae85e5505d8f24/b94e3/volumeInspect.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.64864864864865%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABGklEQVQoz52SWWrEMBBEJa+M5UXyvoycYQYTArlKjpH7H6HiEtgxgQlOPgq1sLr6dbfFNE0Y+ga6viNqP1G1C/JcQaUptNaIoghCiPNqmsYlPR53vNgOxhSQ0oPv+wiCwJ2e5zkxDsNwF79TjKWUm2ELo3PMtzdU9gNX+4rZXjGOI+Z5hrUWwzCg73uwm6qqUNc1CGKMQVEU7r53kiQJlLpAyFXeO/wwW2nETrVRxnF8rn2ihmGEstQo9WVNChxFnueuMgkY05QJfL/pialAlmWuJaXS1bh0Bke6zeykhCNZlsXNhXQswFFwyzRP142TdLsz5psnlMIZcQkcctd1LpGEx03+1C/U3y2TiuZcwJ/+vaO2SiQ6nv/VF/9c2VXmrfvVAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"volumeInspect\"\n        title=\"volumeInspect\"\n        src=\"/static/83c6b7a34520bbb3a8ae85e5505d8f24/fcda8/volumeInspect.png\"\n        srcset=\"/static/83c6b7a34520bbb3a8ae85e5505d8f24/12f09/volumeInspect.png 148w,\n/static/83c6b7a34520bbb3a8ae85e5505d8f24/e4a3f/volumeInspect.png 295w,\n/static/83c6b7a34520bbb3a8ae85e5505d8f24/fcda8/volumeInspect.png 590w,\n/static/83c6b7a34520bbb3a8ae85e5505d8f24/efc66/volumeInspect.png 885w,\n/static/83c6b7a34520bbb3a8ae85e5505d8f24/b94e3/volumeInspect.png 1126w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Docker 실행 시 volume지정은 -v 옵션으로 volume의 이름과 경로를 지정한다</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> run <span class=\"token parameter variable\">-d</span> <span class=\"token parameter variable\">-p</span> <span class=\"token number\">3000</span>:80 <span class=\"token parameter variable\">--rm</span> <span class=\"token parameter variable\">--name</span> exampleApp <span class=\"token parameter variable\">-v</span> app_log:/app/log first:latest</code></pre></div>\n<p>위의 명령어로 container를 실행 후 inspect 명령어를 통해 container정보를 확인해보면 아래와 같이<br>\nmount된 정보를 확인할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> inspect exampleApp <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> <span class=\"token parameter variable\">-A</span> <span class=\"token number\">12</span> <span class=\"token string\">\"Mounts\"</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2e9f786cbe55f17a013ae9124c2a4e09/5f78c/containerVolumeMount.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 30.405405405405407%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAo0lEQVQY06WPWw6CMBBFO32k9IWRAkLAJegqTI37X9B1KC5A5eN0Jm3mTK+wxuCSz1j7GZQKRHgyhfutvuD6B0qxuN8kjPEIYadtWzjn0DRNrd57CCE26gGrFVLQ8I4Qg6p39Hn7kb0hKbGsV0zzgpkZxwkxnXhzRIy+YjjN10LJwmEYeDDWGFprENGBH/Jwzhld11W5+C/uLrTWIqUEpdRRGd4kGH92Cp0MIwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"containerVolumeMount\"\n        title=\"containerVolumeMount\"\n        src=\"/static/2e9f786cbe55f17a013ae9124c2a4e09/fcda8/containerVolumeMount.png\"\n        srcset=\"/static/2e9f786cbe55f17a013ae9124c2a4e09/12f09/containerVolumeMount.png 148w,\n/static/2e9f786cbe55f17a013ae9124c2a4e09/e4a3f/containerVolumeMount.png 295w,\n/static/2e9f786cbe55f17a013ae9124c2a4e09/fcda8/containerVolumeMount.png 590w,\n/static/2e9f786cbe55f17a013ae9124c2a4e09/efc66/containerVolumeMount.png 885w,\n/static/2e9f786cbe55f17a013ae9124c2a4e09/c83ae/containerVolumeMount.png 1180w,\n/static/2e9f786cbe55f17a013ae9124c2a4e09/5f78c/containerVolumeMount.png 1606w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h3 id=\"anonymous-volume\" style=\"position:relative;\"><a href=\"#anonymous-volume\" aria-label=\"anonymous volume permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Anonymous Volume</h3>\n<p>아무 설정없이 컨테이너를 시작하면 자동으로 Anonymous Volume이 생성되는데</p>\n<p>--rm 옵션을 넣어 컨테이너 시작하면 종료 시 자동으로 익명 Volume 제거 된다.<br>\n(옵션 없이 시작하면 제거되지 않는다.)</p>\n<p>--rm옵션 없이 컨테이너를 재시작 할 경우 <strong>새로운 익명 볼륨이 계속 생성된다.</strong></p>\n<p>아래 두 명령어를 통해 볼륨 삭제 가능하다</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">docker</span> volume <span class=\"token function\">rm</span> VOL_NAME\n$ <span class=\"token function\">docker</span> volume prune</code></pre></div>\n<p>주의할 점으로 Volume을 삭제 시 Volume이 마운트 되어있으면 삭제가 되지 않으니<br>\n연결된 container를 모두 삭제 하고 제거해야 한다.</p>\n<h3 id=\"bind-mount\" style=\"position:relative;\"><a href=\"#bind-mount\" aria-label=\"bind mount permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Bind Mount</h3>\n<p>여태까지 컨테이너의 내부에 있는 데이터를 호스트 컴퓨터에 저장해 데이터를 유지시켰는데</p>\n<p>반대로 컨테이너에서 호스트 컴퓨터 파일을 읽기 위해서는 <strong>Bind Mount</strong>기능을 사용해야 한다.</p>\n<h2 id=\"containers--networking\" style=\"position:relative;\"><a href=\"#containers--networking\" aria-label=\"containers  networking permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Containers &#x26; Networking</h2>\n<h2 id=\"multi-container-project\" style=\"position:relative;\"><a href=\"#multi-container-project\" aria-label=\"multi container project permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Multi-Container Project</h2>\n<h2 id=\"using-docker-compose\" style=\"position:relative;\"><a href=\"#using-docker-compose\" aria-label=\"using docker compose permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Using Docker-Compose</h2>\n<h2 id=\"utility-container\" style=\"position:relative;\"><a href=\"#utility-container\" aria-label=\"utility container permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Utility Container</h2>\n<h1 id=\"추가로-더-알아-볼-내용\" style=\"position:relative;\"><a href=\"#%EC%B6%94%EA%B0%80%EB%A1%9C-%EB%8D%94-%EC%95%8C%EC%95%84-%EB%B3%BC-%EB%82%B4%EC%9A%A9\" aria-label=\"추가로 더 알아 볼 내용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>추가로 더 알아 볼 내용</h1>\n<ul>\n<li>Docker registry를 사용해 이미지 관리</li>\n</ul>\n<h1 id=\"reference\" style=\"position:relative;\"><a href=\"#reference\" aria-label=\"reference permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reference</h1>\n<p><a href=\"https://docs.docker.com/storage/storagedriver/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Storage drivers - Docker docs</a><br>\n<a href=\"https://docs.docker.com/build/building/multi-stage/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Multi-stage builds - Docker docs</a><br>\n<a href=\"http://cloudrain21.com/examination-of-docker-protocol-registry\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">도커 컨테이너 까보기(1) - Protocol, Registry</a><br>\n<a href=\"http://cloudrain21.com/examination-of-docker-containersize-ufs\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">도커 컨테이너 까보기(2) – Container Size, UFS</a><br>\n<a href=\"https://cloud.google.com/learn/what-are-containers?hl=en\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">What are Containers? - Google Cloud</a><br>\n<a href=\"https://www.redhat.com/en/topics/containers/whats-a-linux-container\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">What's a Linux container? - Red Hat</a><br>\n<a href=\"http://www.opennaru.com/openshift/container/what-is-the-difference-between-docker-lxd-and-lxc/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Docker 그리고 Linux 컨테이너 기술들</a><br>\n<a href=\"https://earthly.dev/blog/lxc-vs-docker/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Table of contents LXC vs Docker: Which Container Platform Is Right for You?</a><br>\n<a href=\"https://www.redhat.com/ko/topics/containers/what-is-docker\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Docker란? - Red Hat</a><br>\n<a href=\"https://www.oracle.com/kr/cloud/cloud-native/container-registry/what-is-docker/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Docker란 무엇인가? - OCI</a>\n<a href=\"https://www.redhat.com/ko/topics/virtualization/what-is-a-hypervisor\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">What is a hypervisor? - Red Hat</a><br>\n<a href=\"https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">What is a virtual machine (VM)? - Red Hat</a><br>\n<a href=\"https://www.redhat.com/en/topics/containers/containers-vs-vms\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Containers vs VMs</a>\n<a href=\"https://collabnix.com/docker-cheatsheet/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Docker Cheatsheet [2023 Updated] - Collabnix</a></p>","excerpt":"여러 기업들은 자사에서 데이터센터나 기계실을 보유하여 온프레미스 환경에서 가동시키던 부분을 효율적인 자원 활용을 위해 클라우드 상의 가상 인스턴스로 옮기고 시스템을 구축한다 또한 확장성을 고려해 MSA(Micro Service Architecture…","tableOfContents":"<ul>\n<li><a href=\"/Docker/#container\">Container</a></li>\n<li><a href=\"/Docker/#lxc-vs-docker\">LXC vs Docker</a></li>\n<li>\n<p><a href=\"/Docker/#docker\">Docker</a></p>\n<ul>\n<li><a href=\"/Docker/#images--containers\">Images &#x26; Containers</a></li>\n<li><a href=\"/Docker/#docker-command\">Docker Command</a></li>\n<li>\n<p><a href=\"/Docker/#volumes\">Volumes</a></p>\n<ul>\n<li><a href=\"/Docker/#named-volume\">Named Volume</a></li>\n<li><a href=\"/Docker/#anonymous-volume\">Anonymous Volume</a></li>\n<li><a href=\"/Docker/#bind-mount\">Bind Mount</a></li>\n</ul>\n</li>\n<li><a href=\"/Docker/#containers--networking\">Containers &#x26; Networking</a></li>\n<li><a href=\"/Docker/#multi-container-project\">Multi-Container Project</a></li>\n<li><a href=\"/Docker/#using-docker-compose\">Using Docker-Compose</a></li>\n<li><a href=\"/Docker/#utility-container\">Utility Container</a></li>\n</ul>\n</li>\n<li><a href=\"/Docker/#%EC%B6%94%EA%B0%80%EB%A1%9C-%EB%8D%94-%EC%95%8C%EC%95%84-%EB%B3%BC-%EB%82%B4%EC%9A%A9\">추가로 더 알아 볼 내용</a></li>\n<li><a href=\"/Docker/#reference\">Reference</a></li>\n</ul>","fields":{"slug":"/Docker/"},"frontmatter":{"title":"Docker를 톺아보자","date":"Apr 10, 2023","tags":["Docker"],"keywords":["Docker"],"update":"May 22, 2023"}}},"pageContext":{"slug":"/Docker/","series":[],"lastmod":"2023-05-22"}},"staticQueryHashes":["2027115977","694178885"]}